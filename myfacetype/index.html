<!DOCTYPE html>
<html>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light nav-distance">
            <a class="navbar-brand" href="#">내 얼굴 유형 측정하기</a>
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a
                            class="nav-link dropdown-toggle"
                            href="#"
                            id="navbarDropdown"
                            role="button"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                        >
                            Dropdown
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                    </li>
                </ul>
                <form class="form-inline my-2 my-lg-0">
                    <input
                        class="form-control mr-sm-2"
                        type="search"
                        placeholder="Search"
                        aria-label="Search"
                    />
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
                        Search
                    </button>
                </form>
            </div>
        </nav>

        <head>
          <!-- Go to www.addthis.com/dashboard to customize your tools -->
          <script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fb88f803211860a"></script>

            <!-- Required meta tags -->
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

            <!-- Bootstrap CSS -->
            <link
                rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
                integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
                crossorigin="anonymous"
            />

            <title>Hello, world!</title>
            <link rel="stylesheet" href="style.css" />
        </head>

       <section class="section">
           <h1 class="title">인공지능 얼굴유형 테스트(남자)</h1>
           <h2 class="subtitle">궁합으로 보는 나의 얼굴 유형은?</h2>


       </section>





        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <div class="container file-upload">

            </button>

            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                  <img src="uploadimg.jpg" class="mt-5 pt-5 upload">
                    <h3 class="mt-3 pt-3 upload-text"><font color="black">얼굴 사진을 올려놓거나 눌러서 업로드 하세요</font></h3>
                </div>
            </div>
            <div class="file-upload-content">
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />

                <div id="loading" class="animated bounce">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <p class="text-center">AI가 당신의 동물상을 분석중입니다.</p>

                <P class="result-title"></p>
                <P class="result-explain"></p>
                <P class="result-celeb"></p>



                <div id="label-container"></div>

                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                <div class="addthis_inline_share_toolbox"></div>

                <div class="image-title-wrap">


                    <button type="button" onclick="removeUpload()" class="remove-image">
                        다른 사진으로 재시도
                    </button>
                </div>
            </div>
        </div>

        <div id="webcam-container"></div>
        <h5 class="emailadd d-flex flex-row-reverse">  goqkrtl97@naver.com</h3>
        <h6 class="refer d-flex flex-row-reverse"><a href="https://www.youtube.com/channel/UCQNE2JmbasNYbjGAcuBiRRg"><u>조코딩 유튜브 채널 참조</u></a></h4>

        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script>
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        $('.image-upload-wrap').hide();
                        $('.file-upload-image').attr('src', e.target.result);
                        $('.file-upload-content').show();
                        $('.image-title').html(input.files[0].name);
                    };
                    reader.readAsDataURL(input.files[0]);
                    init().then(()=>{
                      predict();
                    });

                } else {
                    removeUpload();
                }
            }
            function removeUpload() {
                $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                $('.file-upload-content').hide();
                $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>



        <script type="text/javascript">
            // More API functions here:
            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

            // the link to your model provided by Teachable Machine export panel
            const URL = "https://teachablemachine.withgoogle.com/models/oHOwjYkFb/";

            let model, webcam, labelContainer, maxPredictions;

            // Load the image model and setup the webcam
            async function init() {
                const modelURL = URL + 'model.json';
                const metadataURL = URL + 'metadata.json';

                // load the model and metadata
                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                // or files from your local hard drive
                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();

                // append elements to the DOM
                labelContainer = document.getElementById('label-container');
              for (let i = 0; i < maxPredictions; i++) {
                  // and class labels
                  labelContainer.appendChild(document.createElement('div'));
              }

}
            // run the webcam image through the image model
            async function predict() {
                // predict can take in an image, video or canvas html element
                $('.spinner-border').hide();
                $('.text-center').hide();
                var image = document.getElementById('face-image');
                const prediction = await model.predict(image, false);
                prediction.sort((a,b) => parseFloat(b.probability)-parseFloat(a.probability));
                var resultTitle, resultExplain, resultCeleb;
                var resultmessage;
                switch(prediction[0].className){
                  case "te-low-e-high":
                  resultTitle ="당신은 테낮에높 유형"
                  resultExplain ="성격이 부드럽고, 수줍음을 많이 타고, 세심하고, 동정심이 많다. 다른 사람에게 싫은 소리를 못한다. 갈등이 많아서 속마음을 쉽게 결정을 못한다. 감정적이어서 다른 사람이 좋아해주면 좋아하지만 조금이라도 싫어하는 것 같은 느낌이 들면 싫어진다. <br><br>예전에 동호가 모 TV 프로그램에서 뜨개질이 취미라고 밝힌 적이 있었다. 이 유형은 여성적인 취미를 가진 경우가 많다. 혹시 여성적인 취미가 없더라도 그 방면의 일을 여자보다 더 잘한다. 음식을 하면 맛있다. 어릴 때부터 손재주가 있다는 이야기를 많이 듣는다. 원래 에스트로겐은 손을 섬세하게 만든다. 반면에 테스토스테론은 손을 투박하게 만들고 악력을 강하게 만든다. "
                  resultCeleb ="테낮에높 유형 연예인: 신혜성, 양요섭, 동호, 인피니트 성종"
                  break;

                  case "te-e-high-e-high":
                  resultTitle ="당신은 테에높에높 유형"
                  resultExplain ="상황에 따라서 남성스럽게 느껴지기도 하고 여성스럽게 느껴지기도 한다. 그래서 남성스러운 캐릭터와 여성스러운 캐릭터를 모두 훌륭하게 연기하는 남자 연예인 중에 이 유형이 많다. <br><br>에스트로겐이 높은 유형이라서 다른 사람에게 동조를 잘 한다. 이 사람이 이 말하면 옳다 하고 저 사람이 저 말해도 옳다 한다. 그런 점에서 황희정승 스타일이다. 가끔 주관이 없어 보이지만 다른 사람의 의견에 쉽게 동조해주는 것이 이 유형의 가장 큰 매력이다.<br><br>남성의 여섯 가지 유형 중에서 여성들에게 가장 인기가 많다. 겉모습이 부드럽다. 특히 닉쿤을 보면 에스트로겐이 높은 남성들의 표정을 알 수 있다. 에스트로겐이 높은 사람은 다른 사람에게 말을 걸기 전에 먼저 웃는다. 상대방에게 좋은 인상을 주고 싶은 마음이 강하기 때문이다. 반면에 테스토스테론이 높은 사람은 다른 사람에게 말을 걸 때 대개 무표정하다. 상대방의 마음에 별로 신경을 쓰지 않기 때문이다."
                  resultCeleb ="테에높에낮 유형 연예인: 닉쿤, 육성재, 장근석, 정용화"
                  break;

                  case "te-e-low-e-high":
                  resultTitle ="당신은 테에낮에높 유형"
                  resultExplain ="인상이 좋다. 동안이다. 생긴 대로 어린아이처럼 천진난만한 면이 있다. 어린 아이는 남녀노소가 모두 거부감이 별로 없다. 그래서 남녀노소에게 인기가 있다. 행동도 역시 어린아이 같은 면이 있어서 나이가 들어도 가끔 귀엽다는 생각이 드는 경우가 있다. <br><br>진지하게 고민하거나 심각하게 생각하는 것을 별로 좋아하지 않는다. 격식에 구애받는 것을 싫어하고 자유롭게 행동하고 싶어 한다."
                  resultCeleb ="테에높에낮 유형 연예인: 김국진, 리키, 박성광, 산들"
                  break;

                  case "te-e-low-te-high":
                  resultTitle ="당신은 테에낮테높 유형"
                  resultExplain ="목표지향적이다. 자신이 이루려는 목표와 관련된 일이 아니면 귀찮아한다. 짜증을 잘 낸다. 성격이 급해서 참고 기다리는 것을 잘 못한다. 성격이 강하지만 테높에낮 유형처럼 극강하지는 않다. 처음에는 강하게 나가지만 나중에는 부드러워진다. 가끔 극단적인 말을 하지만 실제로 행동으로 옮길 정도로 무모하지는 않다. 만약 실제로 행동으로 옮긴다면 테높에낮 유형으로 봐야 한다. <br><br>모든 일을 즉흥적으로 처리하는 경향이 있는데 좀 더 주도면밀하면 성공에 한 걸음 더 나아갈 수 있다. 하지만 김태원 같은 경우 즉흥적인 영감이 훌륭한 작품으로 탄생하기도 한다. 역시 무조건 좋고 무조건 나쁜 것은 없는 듯하다. 하지만 작품 활동 이외의 경우에는 즉흥적인 행동은 유리하지 않은 경우가 많을 수 있다."
                  resultCeleb ="테에낮테높 유형 연예인: 유세윤, 유권, 박명수, 김태원"
                  break;

                  case "te-high-e-low":
                  resultTitle ="당신은 테높에낮 유형"
                  resultExplain ="경쟁심이 강해서 지고는 못 산다. 임전무퇴의 정신이 강하다. 물러서면 지는 것으로 생각할 정도로 공격성이 강하고 호전적이다. <br><br>정치ㆍ경제의 수장들 중에도 이 유형이 많다. 위의 사진에는 없지만 이건희 회장, 이명박 대통령도 이 유형에 속한다. 서열관계로 세상을 파악한다. 수평관계에 대한 인식이 약하다. 감정 표현이 직설적이고 상대방을 배려하는 것보다 자신의 뜻을 이루는 것이 중요하다고 생각한다. 영웅심리가 있어서 뭔가 영웅적인 행동을 하고 싶어 한다."
                  resultCeleb ="테높에낮 유형 연예인: 옥택연, 추성훈, 차인표, 빅뱅 탑"
                  break;

                  case "te-e-high-te-high":
                  resultTitle ="당신은 테에높테높 유형"
                  resultExplain ="겉모습을 보면 강하고 무뚝뚝할 것 같지만 실제로 대화를 나눠보면 의외의 부드러움이 감동을 준다. 테스토스테론과 에스트로겐이 모두 높은 유형이기 때문에 이것이 가능하다. 목소리가 크고 말이 많다. 어딜 가든 분위기를 주도한다. 공명심이 있어서 감투 쓰기를 좋아하고 무리의 우두머리가 되고 싶어 한다. <br><br> 보편적으로 자수성가하는 사람들 중에 이 유형이 제일 많다. 분위기를 주도하는 사람은 상황을 자기가 유리한 방향으로 이끌어갈 수 있기 때문에 항상 이익을 얻는다. 얼마 전 강호동의 전격적인 은퇴 발표로 상황이 역전된 적이 있었다. 평소 분위기를 주도하는 강호동의 성격답게 먼저 주도권을 쟁취했다. 이것이 주도권을 놓지 않는 이들의 삶의 방식이다."
                  resultCeleb ="테에높테높 유형 연예인:강호동, 김구라, 김준현, 최홍만"
                  break;

                  default:
                  resultTitle="알수없음"
                  resultExplain=""
                  resultCeleb=""
                }

                  $('.result-title').html(resultTitle);
                  $('.result-explain').html(resultExplain);
                  $('.result-celeb').html(resultCeleb);

                for (let i = 0; i < maxPredictions; i++) {
                    const classPrediction =
                        prediction[i].className + ': ' + prediction[i].probability.toFixed(2);
                    labelContainer.childNodes[i].innerHTML = classPrediction;
                }
            }
        </script>
    </body>
    <!--    Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--></html>
